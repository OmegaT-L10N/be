<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "../../../docbook-xml-4.5/docbookx.dtd">
<chapter id="chapter.segmentation">
  <title>Сэгмэнтаваньне зыходных тэкстаў</title>

  <para>Праграмы аўтаматызацыі перакладу працуюць з тэкставымі адзінкамі, г. зв. сэгмэнтамі. <application>OmegaT</application> можа сэгмэнтаваць тэкст двума спосабамі: па абзацах і па сказах (гэта таксама называецца “сэгмэнтаваньне на аснове правілаў”). Каб пераключыць тып сэгмэнтаваньня, выберыце <menuchoice> <guimenu><indexterm class="singular">
          <primary>Праект</primary> <secondary>Уласьцівасьці</secondary>
        </indexterm>Праект</guimenu> <guimenuitem>Уласьцівасьці…</guimenuitem> </menuchoice> з галоўнага мэню і пазначце адпаведны пункт або здымеце пазнаку. Сэгмэнтаваньню па сказах карыснае ў пэўных выпадках, напрыклад калі тэкст патрабуе асаблівага крэатыўнага або стылістычнага падыходу, і перакладчыку можа спатрэбіцца перастаўляць цэлыя сказы: аднак для большасьці праектаў найлепшым выбарам зьяўляецца сэгмэнтаваньне па сказах, бо яно дае найлепшы падбор адпаведнікаў з папярэдніх перакладаў. У выпадку абраньня сэгмэнтаваньня па сказах можна наладзіць правілы праз мэню <menuchoice> <guimenu><indexterm class="singular">
          <primary>Праект</primary> <secondary>Парамэтры</secondary>
        </indexterm>Налады</guimenu> <guimenuitem>Сэгмэнтаваньне…</guimenuitem> </menuchoice>.</para>

  <para>Пэўныя правілы сэгмэнтаваньня ўжо вызначаныя для многіх моваў, і найхутчэй вам не спатрэбіцца пісаць уласныя правілы сэгмэнтаваньня. Зь іншага боку гэтая функцыя можа стаць вельмі карыснай для шэрагу асаблівых выпадкаў, калі наладка правілаў сэгмэнтаваньня ў адпаведнасьці зь перакладаным тэкстам можа істотна падвысіць прадукцыйнасьць працы.</para>

  <para><emphasis role="bold">Увага: </emphasis>з-за таго, што сэгмэнтаваньне тэксту зьмяняецца пасьля зьмены наладаў фільтра, можа спатрэбіцца зноў перакласьці значную частку тэксту. Аднак раней перакладзеныя сэгмэнты ў працоўнай памяці перакладаў праекта застануцца ў якасьці састарэлых сэгмэнтаў. Зьмяніўшы налады сэгмэнтаваньня пры адчыненым праекце, абавязкова перазагрузеце праект, каб зьмены сталі дзейснымі.</para>

  <para><application>OmegaT</application> выконвае наступную пасьлядоўнасьць:</para>

  <variablelist>
    <varlistentry>
      <term><indexterm class="singular">
          <primary>Сэгмэнтаваньне</primary> <secondary>Сэгмэнтаваньне на ўзроўні зыходнага тэксту</secondary>
        </indexterm>Сэгмэнтаваньне на структурным узроўні</term>

      <listitem>
        <para><application>OmegaT</application> спачатку робіць сынтаксычны аналіз тэксту ў мэтах сэгмэнтаваньня на структурным узроўні. У гэтым працэсе толькі структура зыходнага файла ўжываецца, каб атрымаць сэгмэнты.</para>

        <para>Напрыклад, тэкставыя файлы могуць быць прасэгмэнтаванымі па разрывах радкоў, пустых радкох, або не прасэгмэнтаванымі ўвогуле. Файлы, у якіх утрымліваюцца зьвесткі пра фарматаваньне (дакумэнты ODF, дакумэнты HTML і да г. п.), сэгмэнтуюцца па тэгах узроўню блёкаў (абзацаў). Атрыбуты аб’ектаў, падлягаючыя перакладу, у файлах XHTML або HTML могуць быць выцягнутымі ў асобныя сэгмэнты.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><indexterm class="singular">
          <primary>Сэгмэнтаваньне</primary> <secondary>Сэгмэнтаваньне на ўзроўні сказаў</secondary>
        </indexterm>Сэгмэнтаваньне на ўзроўні сказаў</term>

      <listitem>
        <para>Прасэгмэнтаваўшы зыходны файл у структурныя адзінкі, <application>OmegaT</application> далей прасэгмэнтуе гэтыя блёкі ў сказы.</para>
      </listitem>
    </varlistentry>
  </variablelist>

  <section id="segmentation.rules">
    <title>Правілы сэгмэнтаваньня<indexterm class="singular">
        <primary>Сэгмэнтаваньне</primary> <secondary>Правілы</secondary>
      </indexterm></title>

    <para>Працэс сэгмэнтаваньня можна апісаць наступным чынам: курсор бяжыць па тэксьце, сымбаль за сымбалем. У кожнай пазыцыі курсора ўжываюцца правілы, якія складаюцца з шаблёнаў <emphasis role="bold">“Да”</emphasis> і <emphasis role="bold">“Пасьля”</emphasis>, у вызначаным парадку, каб пабачыць, ці адпавядае тэкст зьлева ад курсора якому-небудзь шаблёну <emphasis role="bold">“Да”</emphasis>, а тэкст справа ад курсора — адпаведнаму шаблёну <emphasis role="bold">“Пасьля”</emphasis>. Калі правіла супадае, або курсор рухаецца далей без устаўкі разрыва сэгмэнта (у выпадку правіла выключэньня), або ўстаўляецца новы разрыў сэгмэнта ў бягучай пазыцыі курсора (для правіла разрыва).</para>

    <para>Два тыпы правілаў працуюць наступным чынам:</para>

    <variablelist>
      <varlistentry>
        <term><indexterm class="singular">
            <primary>Сэгмэнтаваньне</primary> <secondary>Правілы</secondary> <tertiary>Правілы разрыва</tertiary>
          </indexterm>Правіла разрыва</term>

        <listitem>
          <para>Разьдзяляе зыходны тэкст на сэгмэнты. Напрыклад, урывак <emphasis>“Ці мела гэта сэнс? Я ня ўпэўнены”</emphasis>. трэба разьбіць на два сэгмэнты. Каб гэта адбылося, патрэбнае правіла разрыва для “?”, пасьля якога ідуць прабелы і слова зь вялікай літары. Каб вызначыць правіла як правіла разрыва, трэба паставіць пазнаку “Разрыў/выключэньне”.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <variablelist>
      <varlistentry>
        <term><indexterm class="singular">
            <primary>Сэгмэнтаваньне</primary> <secondary>Правілы</secondary> <tertiary>Правілы выключэньня</tertiary>
          </indexterm>Правіла выключэньня</term>

        <listitem>
          <para>Вызначае, якія часткі тэксту НЯ трэба разьдзяляць. Ня гледзячы на наяўнасьць кропкі, <emphasis>“г. Менск”</emphasis> ня трэба разьбіваць на два сэгмэнты, і таму трэба вызначыць правіла выключэньня для “г” (і для “вул”, “пр” і да г. п.) з кропкай пасьля яго. Каб вызначыць правіла як правіла выключэньня, ня трэба ставіць пазнаку “Разрыў/выключэньне”.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para>Вызначаныя правілы разрыва павінны быць дастатковымі для большасьці эўрапейскіх моваў і японскай. Дзякуючы гнуткасьці, можна вызначыць болей правілаў выключэньняў для пэўнай мовы, каб сэгмэнты былі больш адпаведнымі мове і пасьлядоўнымі.</para>
  </section>

  <section id="rules.priority">
    <title>Прыярытэт правілаў<indexterm class="singular">
        <primary>Сэгмэнтаваньне</primary> <secondary>Прыярытэт правілаў</secondary>
      </indexterm></title>

    <para>Усе наборы правілаў сэгмэнтаваньня для адпаведнай мовы зьяўляюцца актыўнымі і ўжываюцца ў вызначаным парадку прыярытэту, г. зн., правілы для пэўнай мовы маюць прыярытэт над правіламі па змаўчаньні. Напрыклад, правілы для канадзкай францускай (FR-CA) будуць вышэйшымі за правілы для францускай (FR.*) і вышэйшымі за правілы па змаўчаньні (.*). І падчас перакладу з канадзкай францускай правілы для яе — пры іх наяўнасьці — будуць ужывацца спачатку, затым — правілы для францускай, а пасьля — правілы па змаўчаньні.</para>
  </section>

  <section id="creating.new.rule">
    <title>Стварэньне новага правіла<indexterm class="singular">
        <primary>Сэгмэнтаваньне</primary> <secondary>Стварэньне новага правіла</secondary> <seealso>Рэгулярныя выразы</seealso>
      </indexterm></title>

    <para>Звычайна варта пазьбягаць значных зьменаў у правілах сэгмэнтаваньня, асабліва калі ўжо зроблены чарнавік перакладу, але невялікія зьмены, напрыклад, даданьне пазнанага скароту, можа мець сэнс.</para>

    <para>Каб адрэдагаваць або пашырыць існы набор правілаў, проста клікнеце па ім уверсе табліцы. Правілы для гэтага набору зьявяцца ў ніжняй частцы табліцы.</para>

    <para>Каб стварыць пусты набор правілаў для шаблёна новай мовы, клікнеце <emphasis role="bold">“Дадаць”</emphasis> у верхняй частцы дыялёгавага вакна. Унізе верхняй табліцы зьявіцца пусты радок (можа спатрэбіцца прагартаць уніз, каб яго пабачыць). Зьмянеце назву набору правілаў і шаблён мовы для адпаведнай мовы і ейны код (гл. <xref linkend="appendix.languages"/>сьпіс моўных кодаў). Сынтаксыс шаблёна мовы адпавядае сынтаксысу рэгулярных выразаў. Калі вы задаяце набор правілаў для камбінацыі мова-краіна, раім пасунуць яго ўгару кнопкай <emphasis role="bold">“Уверх”</emphasis>.</para>

    <para>Дадайце шаблёны <emphasis role="bold">“Шаблён да”</emphasis> і <emphasis role="bold">“Шаблён пасьля”</emphasis>. Каб спраўдзіць іхні сынтаксыс і прыдатнасьць, пажадана ўжываць інструмэнты, якія непасрэдна дазваляюць пабачыць іхні эфэкт. Гл. болей у разьдзеле <link linkend="chapter.regexp">“Рэгулярныя выразы”</link>. Заўсёды добра пачынаць з разгляду існых правілаў.</para>
  </section>

  <section id="few.simple.examples">
    <title><indexterm class="singular">
        <primary>Сэгмэнтаваньне</primary> <secondary>Прыклады</secondary>
      </indexterm>Некалькі простых прыкладаў</title>

    <informaltable>
      <tgroup cols="4">
        <colspec align="left" colnum="1"/>

        <colspec align="center" colnum="2"/>

        <colspec align="center" colnum="3"/>

        <colspec align="left" colnum="4"/>

        <thead>
          <row>
            <entry>Што трэба</entry>

            <entry align="center">Шаблён да</entry>

            <entry align="center">Шаблён пасьля</entry>

            <entry>Зацемка</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry>Каб сэгмэнт пачынаўся пасьля кропкі (“.”), за якой стаіць прабел, сымбаль табуляцыі…</entry>

            <entry align="center">\.</entry>

            <entry align="center">\s</entry>

            <entry>“\.” азначае кропку. “\s” азначае які заўгодна прабельны сымбаль (прабел, табуляцыя, новая старонка і да г. п.).</entry>
          </row>

          <row>
            <entry>Каб не было новага сэгмэнта пасьля скарота “Mr.”</entry>

            <entry align="center">Mr\.</entry>

            <entry align="center">\s</entry>

            <entry>Гэта — правіла выключэньня, і таму ня трэба рабіць пазнаку “Разрыў/выключэньне”.</entry>
          </row>

          <row>
            <entry>Каб сэгмэнт пачынаўся пасьля “。” (японская кропка)</entry>

            <entry align="center">。</entry>

            <entry align="center"/>

            <entry>Заўважце, што <literal>“Шаблён пасьля”</literal> пусты</entry>
          </row>

          <row>
            <entry>Каб не было новага сэгмэнта пасьля скаротаў “M.”, “Mr.”, “Mrs.” і “Ms.”</entry>

            <entry align="center">Mr??s??\.</entry>

            <entry align="center">\s</entry>

            <entry>Правіла выключэньня — гл. ужываньне “?” у рэгулярных выразах</entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
  </section>
</chapter>