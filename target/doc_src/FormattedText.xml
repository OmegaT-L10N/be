<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "../../../docbook-xml-4.5/docbookx.dtd">
<chapter id="chapter.formatted.text">
  <title>Праца з фарматаваным тэкстам<indexterm class="singular">
      <primary>Файлы перакладаў</primary> <secondary>Фарматаваны тэкст</secondary>
    </indexterm><indexterm class="singular">
      <primary>Зыходныя файлы</primary> <secondary>Фарматаваны тэкст</secondary>
    </indexterm></title>

  <para>Інфармацыю пра фарматаваньне ў зыходным файле звычайна трэба аднаўляць у файле зь перакладам. OmegaT адлюстроўвае фарматаваньне ў тэксьце падтрыманых фарматаў (у прыватнасьці DocBook, HTML, XHTML, Open Document Format [ODF] і Office Open XML [MS Office 2007 і пазьнейшых вэрсіяў]) у выглядзе тэгаў. Звычайна тэгі ігнаруюцца пры разглядзе падабенства паміж рознымі тэкстамі для мэтаў супастаўленьне. Тэгі, адноўленыя ў перакладзеным сэгмэньце, будуць прысутнічаць у перакладзеным дакумэньце.</para>

  <section id="formatting.tags">
    <title>Тэгі фарматаваньня<indexterm class="singular">
        <primary>Тэгі</primary>
      </indexterm></title>

    <para><indexterm class="singular">
        <primary>Тэгі</primary> <secondary>Іменаваньне</secondary>
      </indexterm><emphasis role="bold">Іменаваньне тэгаў</emphasis></para>

    <para>Тэгі складаюцца з аднаго-трох сымбаляў і нумара. Унікальны нумар дазваляе групаваць тэгі, якія адпавядаюць адзін аднаму, і адрозьніваць тэгі, якія маюць аднолькавы сымбаль-скарот, але зьяўляюцца насамрэч рознымі. Спалучэньні сымбаляў, якія выкарыстоўваюцца, прызначаныя, каб паказваць схаваны сэнс тэга (напрыклад b [bold] для паўтлустага шрыфту, i [italics] для курсіва і г. д.)</para>

    <para><indexterm class="singular">
        <primary>Тэгі</primary> <secondary>Нумарацыя</secondary>
      </indexterm><emphasis role="bold">Нумарацыя тэгаў:</emphasis></para>

    <para>Тэгі нумаруюцца з пасьлядоўным павелічэньнем па групе тэгаў. “Групы тэгаў” у гэтым кантэксьце — гэта адзін тэг (напрыклад, &lt;i0&gt; і &lt;/i0&gt;). У адным сэгмэньце першая група (парны або адзіночны тэг) атрымлівае нумар 0, другая — нумар 1 і г. д. У першым прыкладзе, гл. ніжэй, ёсьць 3 групы тэгаў (пара, адзінкавы, далей яшчэ адна пара), у другім прыкладзе — толькі адна група (пара).</para>

    <para><indexterm class="singular">
        <primary>Тэгі</primary> <secondary>Пары і адзіночныя</secondary>
      </indexterm><emphasis role="bold">Пары і адзіночныя:</emphasis></para>

    <para>Тэгі заўжды або адзіночныя, або парныя. Адзіночныя тэгі прадстаўляюць інфармацыю пра фарматаваньне, якое не кранае навакольны тэкст (множныя прабельныя сымбалі або разрыў радка, напрыклад).</para>

    <para><literal>&lt;b0&gt;&lt;Ctr+N&gt;&lt;/b0&gt;, &lt;br1&gt;&lt;b2&gt;&lt;Enter&gt;&lt;/b2&gt;&lt;сэгмэнт 2132&gt;</literal></para>

    <para>&lt;br1&gt;  — гэта адзіночны тэг, які не кранае навакольны тэкст. Парныя тэгі звычайна пазначаюць інфармацыю, датычную тэкста паміж адчыняльным і зачыняльным тэгам пары. &lt;b0&gt; і &lt;/b0&gt; ніжэй — парныя, яны ўплываюць на тэкст log.txt. Памятайце, што адчыняльны тэг заўсёды павінны быць перад адпаведным зачыняльным тэгам:</para>

    <para>&lt;<literal>Файл часопіса (&lt;b0&gt;log.txt&lt;/b0&gt;) для апэрацыяў маніторынга і памылак.&lt;сэгмэнт 3167&gt;</literal></para>

    <para>У <application>OmegaT</application> тэгі ствараюцца перад апрацоўкай для сэгмэнтаваньня па сказах. У залежнасьці ад правілаў сэгмэнтаваньня пара тэгаў можа быць разьдзеленая паміж двума пасьлядоўнымі сэгмэнтамі, і вынікам праверкі тэгаў будуць паведамленьні пра памылкі з пазначэньнем двух сэгмэнтаў.</para>
  </section>

  <section id="tag.operations">
    <title>Апэрацыі з тэгамі<indexterm class="singular">
        <primary>Тэгі</primary> <secondary>Апэрацыі</secondary>
      </indexterm></title>

    <para>З тэгамі трэба быць пільнымі. Калі іх выпадкова зьмяніць, можа быць парушанае фарматаваньне канчатковага файла. Асноўнае правіла: пасьлядоўнасьць тэгаў павінна захоўвацца ў тым самым парадку. Тым ня менш, пры строгім выкананьні пэўных правілаў, з гэтага агульнага правіла можна рабіць пэўныя выключэньні.</para>

    <para><emphasis role="bold"><indexterm class="singular">
        <primary>Тэгі</primary> <secondary>Дубляваньне</secondary>
      </indexterm>Дубляваньне тэгаў:</emphasis></para>

    <para>Каб прадубляваць групы тэгаў, проста скапіюйце іх у патрэбную пазыцыю. Памятайце, што ў пары тэгаў адчыняльны тэг павінны стаяць перад зачыняльным. Фарматаваньне, прадстаўленае групай, якая дублюецца, будзе ўжытым да абедзвюх частак.</para>

    <para>Прыклад:</para>

    <para><literal>&lt;b0&gt;Гэтае фарматаваньне&lt;/b0&gt; будзе прадубляваным тут.&lt;сэгмэнт 0001&gt;</literal></para>

    <para>Пасьля дубляваньня:</para>

    <para><literal>&lt;b0&gt;Гэтае фарматаваньне&lt;/b0&gt; было &lt;b0&gt;прадубляванае тут&lt;/b0&gt;.&lt;сэгмэнт 0001&gt;</literal></para>

    <para><emphasis role="bold"><indexterm class="singular">
        <primary>Тэгі</primary> <secondary>Выдаленьне групаў</secondary>
      </indexterm>Выдаленьне групаў тэгаў:</emphasis></para>

    <para>Каб выдаліць групы тэгаў, проста выдалеце іх з сэгмэнта. Майце на ўвазе, што з групаў, якія складаюцца з пар тэгаў, трэба выдаляць і адчыняльны, і адпаведны зачынены тэгі, каб касаваць адпаведнае фарматаваньне, у адваротным выпадку файл перакладу можа быць пашкоджаны. Пры выдаленьні групы тэгаў з файла перакладу будзе выдаленае адпаведнае фарматаваньне.</para>

    <para>Прыклад:</para>

    <para><literal>&lt;b0&gt;Гэтае фарматаваньне&lt;/b0&gt; будзе выдаленае.&lt;сэгмэнт 0001&gt;</literal></para>

    <para>Пасьля выдаленьня:</para>

    <para><literal>Гэтае фарматаваньне было выдаленае.&lt;сэгмэнт 0001&gt;</literal></para>
  </section>

  <section id="tag.group.nesting">
    <title>Укладаньне групаў тэгаў<indexterm class="singular">
        <primary>Тэгі</primary> <secondary>Укладаньне групаў тэгаў</secondary>
      </indexterm></title>

    <para>Зьмяненьне парадку групаў тэгаў можа спрычыніцца да ўкладаньня адной групы тэгаў у іншую. Гэта прымальна пры ўмове, што адна група цалкам ахоплівае іншую, укладзеную групу. Іншымі словамі, пры перамяшчэньні парных тэгаў і адчыняльны, і зачыняльны тэгі павінны апынуцца або ўнутры, або звонку іншай пары тэгаў, каб файл перакладу ня быў пашкоджаны і яго можна было адчыніць.</para>

    <para>Прыклад:</para>

    <para><literal>&lt;b0&gt;Фарматаваньне&lt;/b0&gt; &lt;b1&gt;раз&lt;/b1&gt; будзе ўкладзенае ў фарматаваньне нуль.&lt;сэгмэнт 0001&gt;</literal></para>

    <para>Пасьля ўкладаньня:</para>

    <para><literal>&lt;b0&gt;Фарматаваньне &lt;b1&gt;раз&lt;/b1&gt;&lt;/b0&gt; было ўкладзенае ў фарматаваньне нуль.&lt;сэгмэнт 0001&gt;</literal></para>
  </section>

  <section id="tag.group.overlapping">
    <title>Перакрыцьцё групаў тэгаў<indexterm class="singular">
        <primary>Тэгі</primary> <secondary>Перакрыцьцё групаў</secondary>
      </indexterm></title>

    <para>Перакрыцьцё зьяўляецца вынікам няправільных апэрацыяў з парамі тэгаў і гарантавана спрычыніцца да пашкоджаньня фарматаваньня, а часам файл перакладу наогул ня будзе адчыняцца.</para>

    <para>Прыклад:</para>

    <para><literal>&lt;b0&gt;Фарматаваньне&lt;/b0&gt; &lt;b1&gt;раз&lt;/b1&gt; будзе пашкоджанае.&lt;сэгмэнт 0001&gt;</literal></para>

    <para>Пасьля няўдалай апэрацыі:</para>

    <para><literal>&lt;b0&gt;Фарматаваньне &lt;b1&gt;раз&lt;/b0&gt; &lt;/b1&gt;цяпер пашкоджанае.&lt;сэгмэнт 0001&gt;</literal></para>
  </section>

  <section>
    <title>Магчымасьці праверкі тэгаў</title>

    <para>Каб наладзіць працу з тэгамі, можна задаць пэўныя правілы праз дыялёг <guimenuitem>Налады → Апрацоўка тэгаў…</guimenuitem>:</para>

    <mediaobject>
      <imageobject>
        <imagedata fileref="images/OptionsTagValidation_25.png"/>
      </imageobject>
    </mediaobject>

    <para>Парамэтры, вызначаныя тут, будуць дзейнічаць для ўсіх зыходных файлаў, а ня толькі для асобных тыпаў файлаў, напрыклад, фарматаванага тэксту.</para>

    <itemizedlist>
      <listitem>
        <para><emphasis role="bold">Зьменныя printf — не правяраць, правяраць простыя, правяраць усе</emphasis></para>

        <para>OmegaT можа правяраць, ці перайшлі ў пераклад зьменныя тэкстаў праграмаў (тыпу %s). Вы можаце вырашыць, ці не правяраць іх наогул, правяраць простыя зьменныя printf (напрыклад, %s %d і да г. п.), або правяраць зьменныя друку ўсіх тыпаў.</para>
      </listitem>
    </itemizedlist>

    <itemizedlist>
      <listitem>
        <para><emphasis role="bold">Правяраць простыя шаблёны java MessageFormat</emphasis></para>

        <para>Пры ўключэньні гэтай функцыі OmegaT будзе правяраць, ці правільна апрацоўваюцца простыя тэгі java MessageFormat (тыпу {0}).</para>
      </listitem>
    </itemizedlist>

    <itemizedlist>
      <listitem>
        <para><emphasis role="bold">Рэгулярныя выразы для карыстальніцкіх тэгаў</emphasis></para>

        <para>Калі тут увесьці рэгулярны выраз, OmegaT будзе ўважаць выяўленыя пасьлядоўнасьці за карыстальніцкія тэгі. Праграма праверыць ідэнтычнасьць колькасьці тэгаў і іх парадку, як гэта робіцца ў дачыненьні да тэгаў OmegaT.</para>
      </listitem>
    </itemizedlist>

    <itemizedlist>
      <listitem>
        <para><emphasis role="bold">Фрагмэнты, якія павінны быць выдаленыя з рэгулярнага выразу ў перакладзе</emphasis></para>

        <para>Можна ўвесьці рэгулярны выраз для нежаданага зьмесьціва ў перакладзе. Любыя супадзеньні ў перакладзе затым будуць вылучацца чырвоным колерам, каб іх было лёгка знайсьці і выправіць. Пры падборы недакладных супадзеньняў шаблён выдаленьня ігнаруецца. Калі выдаленая частка не адпавядае іншаму сэгмэнту, дадаецца фіксаваны штраф 5, і супадзеньні ніколі ня будуць 100-адсоткавымі.</para>
      </listitem>
    </itemizedlist>
  </section>

  <section id="tag.group.validation">
    <title>Праверка групаў тэгаў<indexterm class="singular">
        <primary>Тэгі</primary> <secondary>Праверка групаў</secondary>
      </indexterm></title>

    <para>Пры праверцы тэгаў выяўляюцца зьмены ў пасьлядоўнасьцях тэгаў (выпадковыя або наўмысныя) і паказваюцца сэгмэнты зь імі. Пры выкарыстаньні гэтай функцыі (<guimenuitem>Ctrl + Shift + V<indexterm class="singular">
        <primary>Спалучэньні клявішаў</primary> <secondary>Праверка тэгаў — Ctrl + T</secondary>
      </indexterm></guimenuitem>) адчыняецца дыялёг з усімі сэгмэнтамі, у якіх, верагодна, былі пашкоджаныя тэгі ў перакладах. Функцыя праверкі тэгаў дазваляе лёгка рапараваць тэгі і аднаўляць дакумэнты перакладаў. Пры націсканьні <guimenuitem>Ctrl + Shift + V</guimenuitem> зьяўляецца вакно з 3-слупковай табліцай, якая ўтрымлівае спасылку на сэгмэнт, зыходны сэгмэнт і пераклад.</para>

    <figure id="tag.validation">
      <title>Элемэнт праверкі тэгаў</title>

      <mediaobject>
        <imageobject role="html">
          <imagedata fileref="images/TagValidation.png"/>
        </imageobject>

        <imageobject role="fo">
          <imagedata fileref="images/TagValidation.png" width="90%"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>У мэтах спрашчэньня параўнаньня арыгіналу і перакладу тэгі вылучаюцца паўтлустым шрыфтам і сінім колерам. Націсьнеце на спасылку, каб адчыніць сэгмэнт у вакне рэдагаваньне. Выпраўце памылку па неабходнасьці (у выпадку вышэй не хапае пары &lt;i2&gt; &lt;/i2&gt;) і націсьнеце <guimenuitem>Ctrl + Shift + V</guimenuitem>, каб зноў выклікаць акно праверкі тэгаў і выправіць іншыя памылкі. Памылкі тэгаў — гэта пасьлядоўнасьці тэгаў, парадак і колькасьць якіх у тэксьце перакладу не адпавядае парадку і колькасьці ў арыгінале. У шэрагу выпадкаў маніпуляцыі з тэгамі неабходныя і пажаданыя, у іншых выпадках яны спрычыняюцца да памылак пры кампіляцыі перакладу.</para>
  </section>

  <section id="hints.for.tag.management">
    <title>Парады наконт кіраваньня тэгамі<indexterm class="singular">
        <primary>Тэгі</primary> <secondary>Парады</secondary>
      </indexterm></title>

    <para><emphasis role="bold">Спрашчайце арыгінал</emphasis></para>

    <para>Тэгі, як правіла, прадстаўляюць пэўнае фарматаваньне тэксту арыгіналу. Спрашчэньне фарматаваньня зыходнага тэксту значна зьмяншае колькасьць тэгаў. Па магчымасьці сьлед уніфікаваць выкарыстаныя гарнітуры, кегелі, колеры і да г. п., каб спрасьціць перакладаньне і скараціць колькасьць магчымых памылак тэгаў. Падрабязьней пра тое, што можна рабіць з тэгамі, гл. у разьдзеле “Апэрацыі з тэгамі”. Памятайце, што ў выпадку праблемы з тэгамі ў OmegaT, калі фарматаваньне ня вельмі важнае для перакладу, найлягчэйшым шляхам да вырашэньня праблемаў можа быць выдаленьне тэгаў.</para>

    <para><emphasis role="bold">Зьвяртайце асаблівую ўвагу на пары тэгаў</emphasis></para>

    <para>Калі трэба бачыць тэгі ў OmegaT, але ня трэба захоўваць большую частку фарматаваньня ў перакладзе, можна не ўключаць тэгі ў пераклад. У падобным выпадку будзьце асабліва ўважлівымі да параў тэгаў, таму што калі выдаліць адну частку пары, але пакінуць іншую, гэта гарантавана спрычыніцца да пашкоджаньня фарматаваньня ў дакумэньце перакладу. Паколькі тэгі ўключаюцца ў тэкст, можна выкарыстоўваць правілы сэгмэнтаваньня, каб атрымліваць сэгмэнты зь меншай колькасьцю тэгаў. Гэта — функцыя, правільнае ўжываньне якой патрабуе пэўнага досьведу.</para>

    <para>OmegaT ня мае магчымасьці цалкам аўтаматычна выяўляць памылкі фарматаваньня, таму вы будзеце атрымліваць паведамленьні пра памылкі і прапановы зьмяніць фарматаваньне ў адпаведнасьці з асаблівасьцямі мовы перакладу. Часам, аднак, пераклад можа выглядаць дзіўна, або — у горшым выпадку — можа нават не адчыняцца.</para>
  </section>
</chapter>